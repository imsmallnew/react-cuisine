import{c as p,a as h,j as a,s as g,d as x,p as m,h as v,u as b,b as j,r as N,L as f,N as y,O as L}from"./index-BHl6oezR.js";import{T as D}from"./Toast-Wjlp8eXl.js";import"./bootstrap.esm-CPbp9n-C.js";function T(){const c="https://ec-course-api.hexschool.io",r=p(),s=h(),o=async()=>{var n,i;s(g("讀取中..."));try{await x.post(`${c}/v2/logout`),document.cookie="reactHWToken=; expires=",s(m({title:"系統提示",text:"使用者已登出",status:"success"})),r("/login")}catch(e){console.error(e),s(m({title:"系統提示",text:((i=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:i.message)||"使用者登出失敗",status:"failed"}))}finally{s(v())}};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"nav-item",children:a.jsx("button",{className:"btn btn-sm btn-outline-secondary",type:"button",id:"logoutBtn",onClick:o,children:"登出後台"})})})}function A(){const{isLoading:c,loadingText:r}=b(t=>t.loading),s=j(),[o,n]=N.useState(!1),i=s.pathname.startsWith("/admin/products/"),e=s.pathname.startsWith("/admin/orders/"),d=[{path:"/admin",name:"後台首頁",navName:"admin"},{path:"/admin/products/1",name:"商品管理",navName:"products"},{path:"/admin/orders/1",name:"訂單管理",navName:"orders"},{path:"/",name:"返回前台",navName:"front"}];return a.jsxs(a.Fragment,{children:[c&&a.jsx(f,{loadingText:r}),a.jsx(D,{}),a.jsx("nav",{className:"navbar navbar-light navbar-expand-lg text-primary fixed-top shadow bg-dark","data-bs-theme":"dark",children:a.jsxs("div",{className:"container",children:[a.jsxs("a",{className:"navbar-brand site-title",children:[a.jsx("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/imsmallnew/1740577531932.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=hacFYUa9Ch66uvhPKL0%2FmE5%2BmOwT4bwuA6gRYAxMZCXJE3p9Yvq9CjWXXfLZ0MRO%2FIOur7bocEHtSYJtQRu76ou1n3WPXja1T2Dw89JmiRAqcWye7wTvenzth%2FTL5KX2%2FtfrPDJRQD1B0SDJA8%2Fq5uTs7IjplfCX2JyTipZ4gKs3JcfuhEKhA0CzxTmHd3U%2BGun8TCBiokVdkY%2BulezROsPDKxy9xMrxYi39JXS%2B1xS3XhXim7t7VOxY1ncZ9zL3VuBb8y2TuiI5Dc0Sr8DOa2uGZVQ9uQlawag0PtgjbtD6%2FifZcKxCDbTnEM57vR9zEUf9ud%2FlhrwOIWAnl9XGDQ%3D%3D",style:{width:50,marginRight:"5px"}})," Daniel's Burger Admin"]}),a.jsx("button",{className:"navbar-toggler",type:"button",onClick:()=>n(!o),children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:`collapse navbar-collapse ${o?"show":""}`,children:a.jsxs("ul",{className:"navbar-nav ms-auto",children:[d.map((t,l)=>{const u=s.pathname===t.path;return a.jsx("li",{className:"nav-item",children:a.jsx(y,{to:t.path,onClick:()=>n(!1),className:()=>`btn btn-sm ${t.navName==="products"&&i||t.navName==="orders"&&e||u?"btn-secondary":"btn-outline-secondary"} ms-2`,children:t.name},l)},l)}),a.jsx("li",{className:"nav-item ms-2 logout",children:a.jsx(T,{})})]})})]})}),a.jsx(L,{})]})}export{A as default};
