import{c as p,a as u,j as a,s as x,d as g,p as d,h as v,u as b,b as j,r as N,L,N as f,O as y}from"./index-Tq8liahp.js";import{T as k,l as w}from"./logo-DejucHek.js";import"./bootstrap.esm-CPbp9n-C.js";function O(){const c="https://ec-course-api.hexschool.io",r=p(),s=u(),o=async()=>{var e,i;s(x("讀取中..."));try{await g.post(`${c}/v2/logout`),document.cookie="reactHWToken=; expires=",s(d({title:"系統提示",text:"使用者已登出",status:"success"})),r("/login")}catch(n){console.error(n),s(d({title:"系統提示",text:((i=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:i.message)||"使用者登出失敗",status:"failed"}))}finally{s(v())}};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"nav-item",children:a.jsx("button",{className:"btn btn-sm btn-outline-secondary",type:"button",id:"logoutBtn",onClick:o,children:"登出後台"})})})}function B(){const{isLoading:c,loadingText:r}=b(t=>t.loading),s=j(),[o,e]=N.useState(!1),i=s.pathname.startsWith("/admin/products/"),n=s.pathname.startsWith("/admin/orders/"),m=[{path:"/admin",name:"後台首頁",navName:"admin"},{path:"/admin/products/1",name:"商品管理",navName:"products"},{path:"/admin/orders/1",name:"訂單管理",navName:"orders"},{path:"/",name:"返回前台",navName:"front"}];return a.jsxs(a.Fragment,{children:[c&&a.jsx(L,{loadingText:r}),a.jsx(k,{}),a.jsx("nav",{className:"navbar navbar-light navbar-expand-lg text-primary fixed-top shadow bg-dark","data-bs-theme":"dark",children:a.jsxs("div",{className:"container",children:[a.jsxs("a",{className:"navbar-brand site-title",children:[a.jsx("img",{src:w,style:{width:50,marginRight:"5px"}})," Daniel's Burger Admin"]}),a.jsx("button",{className:"navbar-toggler",type:"button",onClick:()=>e(!o),children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:`collapse navbar-collapse ${o?"show":""}`,children:a.jsxs("ul",{className:"navbar-nav ms-auto",children:[m.map((t,l)=>{const h=s.pathname===t.path;return a.jsx("li",{className:"nav-item",children:a.jsx(f,{to:t.path,onClick:()=>e(!1),className:()=>`btn btn-sm ${t.navName==="products"&&i||t.navName==="orders"&&n||h?"btn-secondary":"btn-outline-secondary"} ms-2`,children:t.name},l)},l)}),a.jsx("li",{className:"nav-item ms-2 logout",children:a.jsx(O,{})})]})})]})}),a.jsx(y,{})]})}export{B as default};
