import{j as e,P as s,i as xe,d as be,a as ue,r as b,e as U,s as M,p,h as R}from"./index-mpaofkQ4.js";import{M as G}from"./bootstrap.esm-CPbp9n-C.js";import{P as je}from"./Pagination-q-5W7wDh.js";import{D as pe}from"./DeleteModal-CH21CWqU.js";function J({state:d,productList:o=[],tempProduct:l,openProductModal:N,openDeleteModal:n,handleChangeOption:u,setTempProduct:k,setTempImgUrl:$,setState:f}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6 mt-2",children:e.jsx("kbd",{children:"商品列表"})}),e.jsx("div",{className:"col-6",children:e.jsx("button",{className:"btn btn-outline-success me-2 float-end",type:"button",id:"checkBtn",disabled:d,onClick:()=>{N("create"),f(!0)},children:"新增商品"})})]}),e.jsxs("table",{className:"table mt-3 table-hover d-none d-md-table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"table-info border-2",children:[e.jsx("th",{scope:"col",children:"圖片"}),e.jsx("th",{scope:"col",children:"商品名稱"}),e.jsx("th",{scope:"col",className:"text-center",children:"分類"}),e.jsx("th",{scope:"col",className:"text-center",children:"原價"}),e.jsx("th",{scope:"col",className:"text-center",children:"售價"}),e.jsx("th",{scope:"col",className:"text-center",children:"是否啟用"}),e.jsx("th",{scope:"col",className:"text-center"})]})}),e.jsx("tbody",{className:"align-middle",children:o==null?void 0:o.map(i=>e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px"},children:e.jsx("img",{src:i.imageUrl,alt:"商品圖",className:"img-thumbnail",style:{width:"60px",height:"60px",objectFit:"cover"}})}),e.jsx("td",{children:i.title}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:"badge bg-danger",children:i.category})}),e.jsx("td",{className:"text-center text-primary",children:i.origin_price}),e.jsx("td",{className:"text-center text-primary",children:i.price}),e.jsxs("td",{className:`text-center ${i.is_enabled===1?"text-dark":"text-danger"}`,children:[i.is_enabled===1?"已啟用":"已停用"," ",e.jsxs("select",{value:i.is_enabled===1?"Y":"N",onChange:v=>u(v,i),children:[e.jsx("option",{value:"Y",children:"Y"}),e.jsx("option",{value:"N",children:"N"})]})]}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group float-end",children:[e.jsxs("button",{type:"button",className:`btn ${(i==null?void 0:i.id)===(l==null?void 0:l.id)?"btn-secondary btn-sm":"btn-outline-secondary btn-sm"}`,onClick:()=>{k(i),$(i.imageUrl)},children:["檢視商品 ",e.jsx("i",{className:"fas fa-search"})]}),e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{N("edit",i),f(!0)},children:["編輯 ",e.jsx("i",{className:"fas fa-edit"})]}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>n(i),children:["刪除 ",e.jsx("i",{className:"fas fa-trash"})]})]})})]},i.id))})]}),e.jsx("div",{className:"d-block d-md-none mt-3",children:o==null?void 0:o.map(i=>e.jsx("div",{className:"card mb-3 shadow-sm",children:e.jsxs("div",{className:"card-body p-2",children:[e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{style:{width:"100px",height:"100px",flexShrink:0},children:e.jsx("img",{src:i.imageUrl,alt:"商品圖",className:"img-fluid rounded object-fit-cover w-100 h-100"})}),e.jsxs("div",{className:"flex-grow-1 pe-2 ps-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("h5",{className:"card-title mb-0",children:i.title}),e.jsx("span",{className:"badge bg-danger",children:i.category})]}),e.jsxs("p",{className:"mb-1 text-primary",children:["原價：",i.origin_price]}),e.jsxs("p",{className:"mb-1 text-primary",children:["售價：",i.price]}),e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsxs("span",{className:`me-2 ${i.is_enabled===1?"text-dark":"text-danger"}`,children:["狀態：",i.is_enabled===1?"已啟用":"已停用"]}),e.jsxs("select",{className:"form-select form-select-sm w-auto",value:i.is_enabled===1?"Y":"N",onChange:v=>u(v,i),children:[e.jsx("option",{value:"Y",children:"Y"}),e.jsx("option",{value:"N",children:"N"})]})]})]})]}),e.jsxs("div",{className:"btn-group d-flex flex-wrap mt-2",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm flex-fill",onClick:()=>{N("edit",i),f(!0)},children:["編輯 ",e.jsx("i",{className:"fas fa-edit"})]}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm flex-fill",onClick:()=>n(i),children:["刪除 ",e.jsx("i",{className:"fas fa-trash"})]})]})]})},i.id))})]})}J.propTypes={state:s.bool,productList:s.arrayOf(s.shape({id:s.oneOfType([s.string,s.number]),title:s.string,category:s.string,origin_price:s.number,price:s.number,is_enabled:s.number,imageUrl:s.string})),tempProduct:s.shape({id:s.oneOfType([s.string,s.number])}),openProductModal:s.func,openDeleteModal:s.func,handleChangeOption:s.func,setTempProduct:s.func,setTempImgUrl:s.func,setState:s.func};function K({tempProduct:d,tempImgUrl:o,setTempImgUrl:l}){var N;return e.jsxs(e.Fragment,{children:[e.jsx("kbd",{children:"商品內容"}),d.title?e.jsx("div",{className:"card mt-4",children:e.jsxs("div",{className:"row",children:[o?e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"mainWrap",children:e.jsx("img",{src:o,className:"object-fit-cover img-fluid w-100 h-100 p-3",alt:"主圖"})})}):e.jsxs("h6",{className:"text-danger",children:[e.jsx("i",{className:"fa-regular fa-image"})," 主圖 尚未提供連結"]}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card-body pl-3 pr-3",children:[e.jsx("h2",{className:"card-title",children:d.title}),e.jsx("h5",{children:e.jsx("span",{className:"badge bg-danger",children:d.category})}),e.jsxs("p",{className:"card-text",children:["商品描述: ",e.jsx("small",{className:"text-muted",children:d.description})]}),e.jsxs("p",{className:"card-text",children:["商品內容: ",e.jsx("small",{className:"text-muted",children:d.content})]}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("h4",{className:"card-text text-danger fw-bold",children:[d.price," 元  / "]}),e.jsx("h4",{className:"card-text text-secondary",children:e.jsxs("del",{children:[d.origin_price," 元"]})})]}),e.jsx("p",{className:"mt-3",children:"更多圖片(點圖放大):"}),e.jsxs("div",{className:"row",children:[d.imageUrl&&e.jsx("div",{className:"col-md-4 mb-3",children:e.jsx("div",{className:"subWrap",children:e.jsx("div",{className:"imgFrame",children:e.jsx("img",{src:d.imageUrl,className:"card-img w-100 h-100 text-start object-fit-cover",alt:"副圖",onClick:()=>{l(d.imageUrl)}})})})}),(N=d==null?void 0:d.imagesUrl)==null?void 0:N.map((n,u)=>n?e.jsx("div",{className:"col-md-4 mb-3",children:e.jsx("div",{className:"subWrap",children:e.jsx("div",{className:"imgFrame",children:e.jsx("img",{src:n,className:"card-img w-100 h-100 text-start object-fit-cover",alt:"副圖",onClick:()=>{l(n)}})})})},u):null)]})]})})]})}):e.jsx("div",{className:"text-muted mt-3",children:"請點選按鈕查看內容"})]})}K.propTypes={tempProduct:s.shape({title:s.string,category:s.string,origin_price:s.number,price:s.number,description:s.string,content:s.string,is_enabled:s.number,imageUrl:s.string,imagesUrl:s.arrayOf(s.string)}),tempImgUrl:s.string,setTempImgUrl:s.func.isRequired};function Q({productModalRef:d,target:o,tempProduct:l,categories:N,units:n,handleInputChange:u,handleFileChange:k,handleImageChange:$,imagesUrlRemove:f,badgeReplace:i,imagesUrlAdd:v,closeProductModal:T,handleModalUpdate:m}){var j,I,S,O,D;return e.jsx("div",{id:"productModal",ref:d,className:"modal",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",style:{maxWidth:"980px"},children:e.jsxs("div",{className:"modal-content border-0 shadow",children:[e.jsxs("div",{className:`modal-header border-bottom ${o==="create"?"bg-success":"bg-primary"}`,children:[e.jsx("h5",{className:"modal-title fs-4 text-white",children:o==="create"?"新增商品":"編輯商品"}),e.jsx("button",{type:"button",className:"btn-close bg-white","aria-label":"Close",onClick:()=>T()})]}),e.jsx("div",{className:"modal-body p-4",children:e.jsxs("div",{className:"row g-4",children:[e.jsxs("div",{className:"col-md-10",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"title",className:"form-label",children:"商品名稱"}),e.jsx("input",{name:"title",id:"title",type:"text",className:"form-control",placeholder:"請輸入商品名稱",onChange:u,value:l.title})]})}),e.jsxs("div",{className:"col-md-6 pb-4",children:[e.jsx("label",{className:"form-check-label",htmlFor:"isEnabled",children:"是否啟用"}),e.jsx("div",{className:"form-check ms-2",children:e.jsx("input",{name:"is_enabled",type:"checkbox",className:`form-check-input ${o==="create"&&l.is_enabled===1?"bg-success":""}`,id:"isEnabled",onChange:u,checked:l.is_enabled===1})})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"category",className:"form-label",children:"分類"}),e.jsx("input",{name:"category",id:"category",type:"text",className:"form-control",placeholder:"請輸入分類",onChange:u,value:l.category}),e.jsx("div",{className:"mt-2",children:N.map(x=>e.jsx("label",{className:"badge bg-danger m-1",htmlFor:"category",onClick:h=>i(h),children:x},x))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"unit",className:"form-label",children:"單位"}),e.jsx("input",{name:"unit",id:"unit",type:"text",className:"form-control",placeholder:"請輸入單位",onChange:u,value:l.unit}),e.jsx("div",{className:"mt-2",children:n.map(x=>e.jsx("label",{className:"badge bg-danger m-1",htmlFor:"unit",onClick:h=>i(h),children:x},x))})]})})]}),e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{htmlFor:"origin_price",className:"form-label",children:"原價"}),e.jsx("input",{name:"origin_price",id:"origin_price",type:"number",className:"form-control",placeholder:"請輸入原價",onChange:x=>{Number(x.target.value)>=0?u(x):(alert("原價不能小於 0"),x.target.value=0)},value:l.origin_price,min:"0"})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{htmlFor:"price",className:"form-label",children:"售價"}),e.jsx("input",{name:"price",id:"price",type:"number",className:"form-control",placeholder:"請輸入售價",onChange:x=>{Number(x.target.value)>=0?u(x):(alert("售價不能小於 0"),x.target.value=0)},value:l.price,min:"0"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"description",className:"form-label",children:"商品描述"}),e.jsx("textarea",{name:"description",id:"description",className:"form-control",rows:4,placeholder:"請輸入商品描述",onChange:u,value:l.description})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"content",className:"form-label",children:"說明內容"}),e.jsx("textarea",{name:"content",id:"content",className:"form-control",rows:4,placeholder:"請輸入說明內容",onChange:u,value:l.content})]})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("ul",{className:"list-group",children:[e.jsx("li",{className:`list-group-item active ${o==="create"?"bg-success":""}`,"aria-current":"true",children:e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"primary-image",className:"col-sm-1 col-form-label",children:"主圖"}),e.jsx("div",{className:"col-sm-11",children:e.jsxs("div",{className:"column",children:[e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",className:"form-control",id:"fileInput",name:"file-to-upload",onChange:x=>k(x)}),e.jsx("input",{name:"imageUrl",type:"text",id:"primary-image",className:"form-control mt-2",placeholder:"請輸入主圖連結",onChange:u,value:l.imageUrl})]})})]})},"imageUrl"),(j=l==null?void 0:l.imagesUrl)==null?void 0:j.map((x,h)=>e.jsx("li",{className:`list-group-item mt-1 ${o==="create"?"bg-success bg-opacity-25":"bg-primary bg-opacity-25"}`,children:e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:`imagesUrl-${h+1}`,className:"col-sm-1 col-form-label",children:["副圖",h+1]}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{id:`imagesUrl-${h+1}`,type:"text",placeholder:`請輸入副圖${h+1}連結`,className:"form-control",onChange:E=>$(E,h),value:l.imagesUrl[h]})}),e.jsxs("button",{type:"button",className:"btn btn-danger btn-sm col-sm-1",onClick:()=>f(h),children:["刪除 ",e.jsx("i",{className:"fas fa-trash"})]})]})},`imagesUrl_${h+1}_${x}`))]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{type:"button",className:`btn btn-lg ${o==="create"?"btn-outline-success":"btn-outline-primary"}`,disabled:((I=l==null?void 0:l.imagesUrl)==null?void 0:I.length)===5,onClick:v,children:[((S=l==null?void 0:l.imagesUrl)==null?void 0:S.length)===5?"已達上限無法新增副圖":"新增副圖"," (",(O=l==null?void 0:l.imagesUrl)==null?void 0:O.length,"/5) ",e.jsx("i",{className:"fa-regular fa-image"})]})})]})]}),e.jsxs("div",{className:"col-md-2 modalImgWrap",children:[e.jsx("div",{className:"mb-2",children:l.imageUrl?e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"primary-image",className:"form-label border border-2 border-dashed rounded-3 ps-1 pe-1 m-1 bg-dark bg-opacity-50 text-white",children:"主圖"}),e.jsx("img",{src:l.imageUrl,alt:l.title,className:"img-fluid"})]}):e.jsx(e.Fragment,{children:e.jsxs("h6",{className:"text-danger",children:[e.jsx("i",{className:"fa-regular fa-image"})," 主圖 尚未提供連結"]})})}),(D=l==null?void 0:l.imagesUrl)==null?void 0:D.map((x,h)=>e.jsx("div",{className:"modalImgWrap",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("label",{htmlFor:`imagesUrl-${h+1}`,className:"form-label border border-2 border-dashed rounded-3 ps-1 pe-1 m-1 bg-dark bg-opacity-50 text-white",children:["副圖 ",h+1]}),e.jsx("img",{src:x,alt:`副圖 ${h+1}`,className:"img-fluid mb-2"})]}):e.jsxs("h6",{className:"text-danger",children:[e.jsx("i",{className:"fa-regular fa-image"})," 副圖",h+1,"尚未提供連結"]})},`image-wrap-${h}`))]})]})}),e.jsxs("div",{className:"modal-footer border-top bg-light",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>T(),children:"取消"}),e.jsx("button",{type:"button",className:`btn ${o==="create"?"btn-success ":"btn-primary"}`,onClick:()=>m(l),children:"確認"})]})]})})})}Q.propTypes={productModalRef:s.shape({current:s.any}),target:s.oneOf(["create","edit"]),tempProduct:s.shape({title:s.string,category:s.string,unit:s.string,origin_price:s.number,price:s.number,description:s.string,content:s.string,is_enabled:s.oneOfType([s.number,s.bool]),imageUrl:s.string,imagesUrl:s.arrayOf(s.string)}).isRequired,categories:s.arrayOf(s.string).isRequired,units:s.arrayOf(s.string).isRequired,handleInputChange:s.func,handleFileChange:s.func,handleImageChange:s.func,imagesUrlRemove:s.func,badgeReplace:s.func,imagesUrlAdd:s.func,closeProductModal:s.func,handleModalUpdate:s.func};function we(){const d="https://ec-course-api.hexschool.io",o="imsmallnew",{page:l}=xe(),N=be(),n=ue(),u={title:"",category:"",unit:"",origin_price:0,price:0,description:"",content:"",is_enabled:0,imageUrl:"",imagesUrl:[]},[k,$]=b.useState({}),[f,i]=b.useState(Number(l)),[v,T]=b.useState([]),[m,j]=b.useState(u),[I,S]=b.useState([]),[O,D]=b.useState([]),[x,h]=b.useState(null),[E,Y]=b.useState(!1),[A,X]=b.useState(null),[H]=b.useState("admin"),[Z,P]=b.useState({}),W=b.useRef(null),C=b.useRef(null),q=b.useRef(null),_=b.useRef(null),L=b.useCallback(async()=>{try{await U.get(`${d}/v2/api/${o}/products/all`).then(a=>{let t=a.data.products,r=[...new Set(t.map(g=>g.category))],c=[...new Set(t.map(g=>g.unit))];S(r),D(c)})}catch(a){console.error(a)}},[d,o]),w=b.useCallback(async a=>{var t,r;n(M("讀取中..."));try{await U.get(`${d}/v2/api/${o}/admin/products?page=${a}`).then(c=>{let g=c.data.products;T(g),L(),(g==null?void 0:g.length)>0&&j(g[0]),(g==null?void 0:g.length)>0&&h(g[0].imageUrl),$(c.data.pagination)})}catch(c){console.error(c),n(p({title:"系統提示",text:((r=(t=c==null?void 0:c.response)==null?void 0:t.data)==null?void 0:r.message)||"取得商品資料失敗",status:"failed"}))}finally{n(R())}},[d,o,n,L]);b.useEffect(()=>{w(f)},[f,w]),b.useEffect(()=>{Number(l)!==f&&i(Number(l))},[l,i,f]);const ee=a=>{i(a),N(`/admin/products/${a}`,{replace:!0})},se=async()=>{var a,t,r;n(M("新增商品資料中..."));try{await U.post(`${d}/v2/api/${o}/admin/product`,{data:{...m,origin_price:Number(m.origin_price),price:Number(m.price),imagesUrl:((a=m.imagesUrl)==null?void 0:a.length)===0?[""]:m.imagesUrl}}),n(p({title:"新增商品成功",text:"商品名稱:"+m.title,status:"success"})),w(),z()}catch(c){console.error(c),n(p({title:"系統提示",text:((r=(t=c==null?void 0:c.response)==null?void 0:t.data)==null?void 0:r.message)||"新增商品失敗",status:"failed"}))}finally{n(R())}},V=async a=>{var r,c,g;const t=document.getElementById("productModal");n(M("更新商品資料中..."));try{await U.put(`${d}/v2/api/${o}/admin/product/${a.id}`,{data:{...a,origin_price:Number(a.origin_price),price:Number(a.price),imagesUrl:((r=a.imagesUrl)==null?void 0:r.length)===0?[""]:a.imagesUrl}}),t!=null&&t.classList.contains("show")&&n(p({title:"更新商品成功",text:"商品名稱:"+m.title,status:"success"})),w(),z()}catch(y){console.error(y),t!=null&&t.classList.contains("show")&&n(p({title:"系統提示",text:((g=(c=y==null?void 0:y.response)==null?void 0:c.data)==null?void 0:g.message)||"更新商品失敗",status:"failed"}))}finally{n(R())}},ae=async()=>{var a,t;n(M("刪除商品資料中..."));try{await U.delete(`${d}/v2/api/${o}/admin/product/${m.id}`),n(p({title:"刪除商品成功",text:"商品名稱:"+m.title,status:"success"})),w(),j(u),B()}catch(r){B(),console.error(r),n(p({title:"系統提示",text:((t=(a=r==null?void 0:r.response)==null?void 0:a.data)==null?void 0:t.message)||"刪除商品失敗",status:"failed"}))}finally{n(R())}},le=a=>{const{name:t,value:r,checked:c,type:g}=a.target;j({...m,[t]:g==="checkbox"?c?1:0:r||""})},te=async a=>{var t,r;try{A==="create"?await se():await V(a)}catch(c){let g=A==="create"?"新增":"更新";n(p({title:"系統提示",text:((r=(t=c==null?void 0:c.response)==null?void 0:t.data)==null?void 0:r.message)||`${g}商品失敗`,status:"failed"})),alert(`更新商品失敗！

`+(c==null?void 0:c.response.data.message.join(`
`)))}},ie=(a,t)=>{const{value:r}=a.target,c=[...m.imagesUrl];c[t]=r,j({...m,imagesUrl:c})},ce=a=>{const{innerText:t,htmlFor:r}=a.target;j({...m,[r]:t})},ne=async(a,t)=>{var g,y;const r=a.target.value==="Y"?1:0,c={...t,is_enabled:r};try{await V(c),w();const F=c.is_enabled===1?"已啟用":"已停用";n(p({title:"系統提示",text:`[商品]${c.title}: ${F}`,status:"success"}))}catch(F){n(p({title:"系統提示",text:((y=(g=F==null?void 0:F.response)==null?void 0:g.data)==null?void 0:y.message)||`[商品]${c.title}: 更新啟用狀態失敗`,status:"failed"}))}},re=()=>{const a=[...m.imagesUrl];a.push(""),j({...m,imagesUrl:a})},de=a=>{const t=[...m.imagesUrl];t.splice(a,1),j({...m,imagesUrl:t})},oe=a=>{const t=a.target.files[0],r=new FormData;t?(r.append("file-to-upload",t),me(r)):n(p({title:"系統提示",text:"尚未取得圖片資料來源, 無法上傳!",status:"failed"}))},me=async a=>{n(M("上傳圖片中..."));try{const r=(await U.post(`${d}/v2/api/${o}/admin/upload`,a)).data.imageUrl;n(p({title:"系統提示",text:"圖片上傳成功",status:"success"})),r&&j({...m,imageUrl:r})}catch(t){console.error(t),n(p({title:"系統提示",text:"上傳圖片失敗",status:"failed"}))}finally{n(R())}};b.useEffect(()=>{W.current&&(C.current=new G(W.current,{backdrop:!1})),q.current&&(_.current=new G(q.current,{backdrop:!1}))},[]);const he=(a,t)=>{X(a),j(a==="edit"?t:u),setTimeout(()=>{Y(!1)},500),C.current?C.current.show():console.error("Modal instance is not initialized.")},z=()=>{C.current?C.current.hide():console.error("Modal instance is not initialized.")},ge=a=>{H==="admin"?j(a):P(a),setTimeout(()=>{Y(!1)},500),_.current?_.current.show():console.error("Modal instance is not initialized.")},B=()=>{_.current?_.current.hide():console.error("Modal instance is not initialized.")};return window.addEventListener("hide.bs.modal",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container main",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-9 mt-3 mb-5",children:[e.jsx(J,{state:E,productList:v,tempProduct:m,openProductModal:he,openDeleteModal:ge,handleChangeOption:ne,setTempProduct:j,setTempImgUrl:h,setState:Y}),e.jsx(je,{pageInfo:k,handlePageChange:ee})]}),e.jsx("div",{className:"col-md-3 mt-4 mb-5 d-none d-md-block",children:e.jsx(K,{tempProduct:m,tempImgUrl:x,setTempImgUrl:h})})]})})}),e.jsx(Q,{productModalRef:W,target:A,tempProduct:m,categories:I,units:O,handleInputChange:le,handleFileChange:oe,handleImageChange:ie,imagesUrlRemove:de,badgeReplace:ce,imagesUrlAdd:re,closeProductModal:z,handleModalUpdate:te}),e.jsx(pe,{deleteModalRef:q,tempProduct:m,navigation:H,cartItem:Z,deleteProduct:ae,closeDeleteModal:B})]})}export{we as default};
